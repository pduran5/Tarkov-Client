<UserControl x:Class="TarkovClient.SettingsPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800"
             Background="#FF000000">
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Margin="20">
            <!-- Título -->
            <TextBlock Text="Configuración (Setting)" 
                       FontSize="24" 
                       FontWeight="Bold" 
                       Foreground="White" 
                       Margin="0,0,0,20"/>
            
            <!-- Sección de configuración integrada (proporción 40:60) -->
            <Border Background="#FF1A1A1A" 
                    CornerRadius="5" 
                    Padding="15" 
                    Margin="0,0,0,15">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="3*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Izquierda: Configuración de Minimapa (PIP) (40%) -->
                    <StackPanel Grid.Column="0" Margin="0,0,15,0">
                        <TextBlock Text="Configuración de Minimapa (PIP)" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Foreground="White" 
                                   Margin="0,0,0,10"/>
                        
                        <!-- Activar PiP globalmente -->
                        <StackPanel Orientation="Vertical" Margin="0,5,0,10">
                            <CheckBox x:Name="GlobalPipEnabledCheckBox"
                                      Content="Activar Minimapa (PIP)" 
                                      Foreground="White" 
                                      FontSize="14"
                                      HorizontalAlignment="Left"
                                      Checked="GlobalPipEnabled_Changed"
                                      Unchecked="GlobalPipEnabled_Changed"/>
                            <TextBlock Text="Minimap(PIP) Activate"
                                       Foreground="#FF888888"
                                       FontSize="11"
                                       Margin="20,2,0,0"/>
                        </StackPanel>
                        
                        <!-- Configuración de recordar posición PiP -->
                        <StackPanel Orientation="Vertical" Margin="0,5,0,10">
                            <CheckBox x:Name="PipRememberPositionCheckBox"
                                      Content="Guardar tamaño/posición de Minimapa (PIP)" 
                                      Foreground="White" 
                                      FontSize="14"
                                      HorizontalAlignment="Left"/>
                            <TextBlock Text="Remember Minimap(PIP) Window Size/Position"
                                       Foreground="#FF888888"
                                       FontSize="11"
                                       Margin="20,2,0,0"/>
                        </StackPanel>
                        
                        <!-- Configuración de tecla rápida PiP -->
                        <StackPanel Orientation="Vertical" Margin="0,5,0,10">
                            <CheckBox x:Name="PipHotkeyEnabledCheckBox"
                                      Content="Usar botón de activación PiP" 
                                      Foreground="White" 
                                      FontSize="14"
                                      HorizontalAlignment="Left"
                                      Checked="PipHotkeyEnabled_Changed"
                                      Unchecked="PipHotkeyEnabled_Changed"/>
                            <TextBlock Text="Use PiP Activation Button"
                                       Foreground="#FF888888"
                                       FontSize="11"
                                       Margin="20,2,0,0"/>
                        </StackPanel>
                        
                        <!-- Configuración de entrada de tecla rápida -->
                        <StackPanel x:Name="HotkeyInputPanel" 
                                    Orientation="Vertical" 
                                    Margin="20,5,0,10">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                <TextBlock Text="Tecla de activación:" 
                                           Foreground="White" 
                                           VerticalAlignment="Center" 
                                           Margin="0,0,10,0"/>
                                <Button x:Name="PipHotkeyButton" 
                                        Width="120" 
                                        Height="30" 
                                        Background="#FF3A3A3A" 
                                        Foreground="White" 
                                        BorderThickness="1"
                                        BorderBrush="#FF555555"
                                        Content="F11"
                                        FontSize="12"
                                        Focusable="True"
                                        IsTabStop="True"
                                        KeyboardNavigation.AcceptsReturn="False"
                                        Click="PipHotkeyButton_Click"
                                        KeyDown="PipHotkeyButton_KeyDown"
                                        PreviewKeyDown="PipHotkeyButton_PreviewKeyDown"
                                        LostFocus="PipHotkeyButton_LostFocus">
                                    <Button.Style>
                                        <Style TargetType="Button">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="Button">
                                                        <Border Background="{TemplateBinding Background}"
                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                CornerRadius="3"
                                                                Padding="8,4">
                                                            <ContentPresenter HorizontalAlignment="Center"
                                                                            VerticalAlignment="Center"/>
                                                        </Border>
                                                        <ControlTemplate.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Background" Value="#FF5A5A5A"/>
                                                                <Setter Property="BorderBrush" Value="#FF777777"/>
                                                            </Trigger>
                                                            <Trigger Property="IsPressed" Value="True">
                                                                <Setter Property="Background" Value="#FF2A2A2A"/>
                                                            </Trigger>
                                                        </ControlTemplate.Triggers>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Button.Style>
                                </Button>
                            </StackPanel>
                            <TextBlock Text="(Haga clic y presione una tecla para configurar)" 
                                       Foreground="#FF888888" 
                                       FontSize="11"
                                       Margin="0,2,0,0"/>
                        </StackPanel>
                    </StackPanel>
                    
                    <!-- Derecha: Configuración de activación de Minimapa (PIP) por mapa (60%) -->
                    <StackPanel Grid.Column="1" Margin="15,0,0,0">
                        <TextBlock Text="Configuración de activación de Minimapa (PIP) por mapa" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Foreground="White" 
                                   Margin="0,0,0,10"/>
                        
                        <!-- Lista de configuración por mapa -->
                        <StackPanel x:Name="MapSettingsPanel">
                            <!-- La configuración por mapa se agrega dinámicamente -->
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Sección de configuración del programa -->
            <Border Background="#FF1A1A1A" 
                    CornerRadius="5" 
                    Padding="15" 
                    Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock Text="Configuración del programa" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="White" 
                               Margin="0,0,0,10"/>
                    
                    <!-- Configuración de limpieza automática de archivos -->
                    <TextBlock Text="Limpieza automática de archivos" 
                               FontSize="14" 
                               FontWeight="SemiBold" 
                               Foreground="White" 
                               Margin="0,10,0,10"/>
                    
                    <!-- Limpieza automática de carpeta de registros -->
                    <StackPanel Orientation="Vertical" Margin="20,5,0,10">
                        <CheckBox x:Name="AutoDeleteLogsCheckBox"
                                  Content="Limpieza automática de carpeta de registros" 
                                  Foreground="White" 
                                  FontSize="14"
                                  HorizontalAlignment="Left"/>
                        <TextBlock Text="Elimina automáticamente la carpeta de registros anterior al iniciar el programa"
                                   Foreground="#FF888888"
                                   FontSize="11"
                                   Margin="20,2,0,0"/>
                        <TextBlock Text="Automatically delete old log folders on program start"
                                   Foreground="#FF888888"
                                   FontSize="11"
                                   Margin="20,2,0,0"/>
                    </StackPanel>
                    
                    <!-- Limpieza automática de capturas de pantalla -->
                    <StackPanel Orientation="Vertical" Margin="20,5,0,10">
                        <CheckBox x:Name="AutoDeleteScreenshotsCheckBox"
                                  Content="Limpieza automática de capturas de pantalla" 
                                  Foreground="White" 
                                  FontSize="14"
                                  HorizontalAlignment="Left"/>
                        <TextBlock Text="Elimina automáticamente las capturas de pantalla al finalizar la incursión"
                                   Foreground="#FF888888"
                                   FontSize="11"
                                   Margin="20,2,0,0"/>
                        <TextBlock Text="Automatically delete screenshots on raid end"
                                   Foreground="#FF888888"
                                   FontSize="11"
                                   Margin="20,2,0,0"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- Botón Guardar -->
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        Margin="0,20,0,0">
                <Button x:Name="SaveButton"
                        Content="Guardar" 
                        Width="100" 
                        Height="35" 
                        Background="#FF0066CC" 
                        Foreground="White" 
                        BorderThickness="0"
                        FontSize="14"
                        FontWeight="Bold"
                        Click="Save_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="5"
                                                Padding="10,5">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#FF0088FF"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
                
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</UserControl>